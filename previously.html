<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>New Table</title>
    <style>
      /* @import url(previous.css); */

      /* @import url(t.css); */

      body {
        width: 400px;
        margin: auto;
        border-bottom: 2px solid green;
      }
      td {
        border: solid black;
        /* border-left: solid 1px; */
        /* border-right: solid 0.5; */
        border-bottom: solid 0.5px;
        padding: 0.5em 0;
        border-collapse: collapse;
        padding: 0.5rem;
        width: 100px;
        text-align: center;
        border-color: chocolate;
        /* color: midnightblue; */
      }
      th {
        border: solid black;
        border-left: solid 1px;
        border-right: solid 0.5px;
        border-bottom: solid 0.5px;
        padding: 0 0.5 em;
        border-collapse: collapse;
        width: 100px;
        text-align: center;
        border-color: chocolate;
        color: black;
      }
      table {
        /* border-spacing: unset; */
        position: absolute;
        border: solid 2px brown;
        width: 60%;
        /* margin-left: -15%; */
        border-collapse: collapse;
      }

      #timer {
        margin-left: 6em;
      }

      ol {
        list-style-type: upper-alpha;
      }

      div {
        position: relative;
        margin-left: 4rem;
        width: 70%;
      }

      button {
        width: 5rem;
        height: 2rem;
        font-size: 1em;
        /* float: left; */
        margin-right: 1em;
        border-radius: 3px;
        box-shadow: 0.2em 0.3em 0.4em gray;
      }
      button:active {
        box-shadow: 0em 0em 0em gray;
        transition-property: box-shadow scale;
        transform: scale(0.9, 0.9);
        box-shadow: 0em 0e 0em;
        transition-duration: 0.1s;
      }
      #bsecond {
        margin-top: 1rem;
      }

      /* #bfirst {
  margin-left: 3rem;
} */

      span {
        float: left;
        font-weight: bold;
        /* margin-left: 4rem; */
      }

      h4 {
        margin-left: 2rem;
        margin-right: 1rem;
        width: 16rem;
        margin-bottom: 1.5rem;
        
      }
      h5 {
        width: 15rem;
        margin-left: 4rem;
        line-height: 1.5rem;
      }

      sub {
        margin-left: 22%;
      }
    </style>
  </head>
  <body id="main">
    <h4 id="timer">Time</h4>
    <div id="canvas">
      <!-- <p id="choices"></p> -->
      <span id="number"></span>
      <h4 id="info"></h4>
      <ol>
        <li>
          <input type="radio" name="options" id="first" value="" /><label
            class="option"
          ></label>
        </li>
        <li>
          <input type="radio" name="options" id="second" /><label
            class="option"
          ></label>
        </li>
        <li>
          <input type="radio" name="options" id="third" /><label
            class="option"
          ></label>
        </li>
        <li>
          <input type="radio" name="options" id="fourth" value="" /><label
            class="option"
          ></label>
        </li>
      </ol>
    </div>
    <button id="bfirst">Previous</button>
    <button id="bsecond">Start</button>
    <button id="sub">Submit</button>
    <h2 id="score"></h2>
    <sub id="copy">&copy; Amalu Productions 2022</sub>
  </body>
  <script>
    let questions = [
      {
        id: 1,
        quiz: "Which of these adjectives best qualifies an elephant?",
        options: ["Indian", "European", "Australian", "American"],
        answer: "Indian",
      },
      {
        id: 2,
        quiz: "How many legs does a spider have?",
        options: [2, 4, 6, 8],
        answer: 8,
      },
      {
        id: 3,
        quiz: "The ocean b/w America and Africa is?",
        options: ["Pacific", "Atlantic", "Indian", "Red Sea"],
        answer: "Atlantic",
      },
      {
        id: 4,
        quiz: "Which of these is a car?",
        options: ["Nivea", "Samsung", "Toyota", "Philips"],
        answer: "Toyota",
      },
      {
        id: 5,
        quiz: "What country has no river?",
        options: ["Japan", "Saudi Arabia", "Tunisia", "Chile"],
        answer: "Saudi Arabia",
      },
      {
        id: 6,
        quiz: "What is the most peaceful country in the world?",
        options: ["Thailand", "USA", "Switzerland", "Nigeria"],
        answer: "Switzerland",
      },
      {
        id: 7,
        quiz: "What is the oldest sports in the world",
        options: ["Baseball", "Wrestling", "Football", "Swimming"],
        answer: "Wrestling",
      },
      {
        id: 8,
        quiz: "What is the longest river in the world",
        options: ["Nile", "Mississippi", "Rhine", "Mersy"],
        answer: "Nile",
      },
      {
        id: 9,
        quiz: "If 4 cubes cost $1, how much will 18 cubes cost",
        options: ["$5", "$4.5", "$10", "$3.25"],
        answer: "$4.5",
      },
      {
        id: 10,
        quiz: " The first world cup winner is?",
        options: ["Mali", "Brazil", "Uraguay", "England"],
        answer: "Uraguay",
      },
      {
        id: 11,
        quiz: " What is the largest continent in the world?",
        options: ["Asia", "South America", "Africa", "North America"],
        answer: "Asia",
      },
      {
        id: 12,
        quiz: " What is smallest country in the world?",
        options: ["Swaziland", "Vatican City", "China", "Russia"],
        answer: "Vatican City",
      },
      {
        id: 13,
        quiz: " What is the most populous country in the world?",
        options: ["India", "Nigeria", "USA", "China"],
        answer: "China",
      },
      {
        id: 14,
        quiz: " Who invented the light bulb?",
        options: [
          "Michael Faraday",
          "Marie Curie",
          "Thomas Edison",
          "John Dalton",
        ],
        answer: "Thomas Edison",
      },
      {
        id: 15,
        quiz: " A triangle with three equal sides is called?",
        options: ["Equotorial Triangle", "Ekwelie Triangle", "Equilateral Triangle", "Ekwulobia Triangle"],
        answer: "Equilateral Triangle",
      },
      {
        id: 16,
        quiz: " In what year was Queen Elizabeth II crowned?",
        options: ["1953", "1958", "1960", "1962"],
        answer: "1953",
      },
      {
        id: 17,
        quiz: " 6.2 X 3",
        options: [22.6, 18.6, 19.6, 20.6],
        answer: 18.6,
      },

      {
        id: 18,
        quiz: " Who is the first person to reach the North Pole",
        options: [
          "Robert Peary",
          "Alexandar the Great",
          "Vasco Dagama",
          "Captain Cook",
        ],
        answer: "Robert Peary",
      },
      {
        id: 19,
        quiz: " Which country is home to Audi automobile headquarters?",
        options: ["Sweeden", "France", "Belgium", "Germany"],
        answer: "Germany",
      },
      {
        id: 20,
        quiz: " How many persons have ever landed on the moon?",
        options: [1, 12, 6, 8],
        answer: 12,
      },
      {
        id: 21,
        quiz: " How many cloud types are there in the sky?",
        options: [7, 1, 4, 9],
        answer: 9,
      },
      {
        id: 22,
        quiz: " What is the name of the longest side of a right angled triangle?",
        options: ["Hypothenus", "Base", "Tangent", "Adjent"],
        answer: "Hypothenus",
      },
      {
        id: 23,
        quiz: " Which of these planets is closest to the sun?",
        options: ["Sarturn", "Venus", "Earth", "Mars"],
        answer: "Venus",
      },
      {
        id: 24,
        quiz: " Through what does insects breathe?",
        options: ["Miracle", "Spiracle", "Oracle", "Tentacle"],
        answer: "Spiracle",
      },
      {
        id: 25,
        quiz: " Which of these animals lay egg?",
        options: ["Whales", "Dolphins", "Sharks", "Anaconda"],
        answer: "Sharks",
      },
    ];
    let mainBoard = document.getElementById("main");
    let theScore = document.getElementById("score");
    let score = 0;
    let i = 0;
    let j = 0
    
    let anArray = [];

    let board = document.getElementById("canvas");
    board.style.display = "none";
    let lister = document.getElementsByTagName("ol");
    let spec = document.getElementById("number");
    let q = document.getElementById("info");
    let opt = document.querySelectorAll("input[type='radio']");
    let lab = document.getElementsByClassName("option");
    let clicker = document.getElementsByTagName("button");
    let neat = document.createElement("table");
    let timeInfo = document.createElement("h4");
    let instruction = document.createElement("h4");
    let countHub = document.getElementById("timer");
    console.log(countHub);
    let wright = document.getElementById("copy");
    let closure = document.createElement("h3");
    let ID;

    {/* clicker[2].style.visibility = "hidden"; */}
    clicker[0].style.visibility = "hidden";
    clicker[2].style.visibility = "hidden";
    clicker[0].style.marginLeft = "1rem";
    let forward = 1;
    let backward = 0;
    // clicker[1].style.marginTop = '-2rem'
    clicker[1].style.color = "royalblue";
    clicker[1].style.borderColor = "royalblue";
    clicker[1].style.backgroundColor = "cornsilk";
    timeInfo.style.marginTop = "3rem";
    instruction.style.marginBottom = ".4rem";
    instruction.style.marginTop = "-1rem";

    let allRadio = () => {
      for (let j = 0; j < opt.length; j++) {
        if (opt[j].checked && backward == 0) {
          anArray.splice(i - 1, 1, opt[j].value);
        } else if (opt[j].checked && forward == 0)
          anArray.splice(i, 1, opt[j].value);
      }
      if (i == questions.length) {
        clicker[1].style.color = "gray";
        clicker[1].style.borderColor = "gray";
      }
      console.log(anArray);
      console.log(
        "radio " + "backward: " + backward,
        "forward " + forward,
        "i: " + i + " array's length " + anArray.length
      );
    };

    let act = () => {
      forward++;
      backward = 0;
      instruction.style.display = "none";
      timeInfo.style.display = "none";
      clicker[0].innerHTML = "<";
      clicker[0].style.textAlign = "left";
      clicker[0].style.letterSpacing = ".2rem";
      clicker[0].style.fontWeight = "bold";
      clicker[0].style.fontSize = "1.5rem";
      clicker[1].innerHTML = ">";
      clicker[1].style.fontWeight = "bold";
      clicker[1].style.fontSize = "1.5rem";
      clicker[1].style.textAlign = "right";
      clicker[1].style.letterSpacing = ".2rem";
    
      clicker[0].style.visibility = "visible";

      if (i > 0) {
        // make the previous button grayed until the second question
        // is displayed
        clicker[0].style.color = "royalblue";
        clicker[0].style.borderColor = "cornflowerblue";
        clicker[0].style.backgroundColor = "cornsilk";
      } else {
        clicker[0].style.borderColor = "gray";
        clicker[0].style.color = "gray";
        clicker[0].style.backgroundColor = "darkgray";
        // clicker[0].style.transitionProperty = 'none'
      }
      clicker[1].style.color = "royalblue";
      clicker[1].style.borderColor = "cornflowerblue";
      clicker[1].style.backgroundColor = "cornsilk";
      if (i < questions.length) {
        if (i === 0 && j === 0) {
          timer();
        }
        if (forward < 2) {
          i++;
          clicker[0].style.color = "royalblue";
          clicker[0].style.borderColor = "cornflowerblue";
          clicker[0].style.backgroundColor = "cornsilk";
        }
        board.style.display = "block";
        spec.innerHTML = questions[i].id + ".  ";
        q.innerHTML = questions[i].quiz;
        for (let j = 0; j < opt.length; j++) {
          lab[j].innerHTML = questions[i].options[j];
          opt[j].value = questions[i].options[j];
          // If the user has attempted a previous question, it should
          // be checked when the question is returned to.  
          if (opt[j].value == anArray[i]) {
            opt[j].checked = true;
          }
          // uncheck the radio buttons when the next question is displayed
         else opt[j].checked = false;
        }
        // if a question is not attempted
        if (anArray.length < i) anArray.push("Unattempted");
      }
      // if (i == anArray.length){
      // clicker[1].style.color = 'gray'
      //   clicker[1].style.borderColor = 'gray'
      // }
      if (i >= questions.length - 1) {
        // let i not become greater than the length of the questions array
        i = questions.length - 1;
        // make the submit buttton visible
        clicker[2].style.visibility = "visible";
        clicker[2].style.color = "royalblue";
        clicker[2].style.borderColor = "cornflowerblue";
        clicker[2].style.backgroundColor = "cornsilk";
        clicker[1].style.color = "gray";
        clicker[1].style.borderColor = "gray";
        clicker[1].style.backgroundColor = "darkgray";
      }
      i++;
      j++
      console.log(anArray);
    };

    let previous = () => {
      clicker[1].style.color = "royalblue";
      clicker[1].style.borderColor = "cornflowerblue";
      clicker[1].style.backgroundColor = "cornsilk";

      backward++;
      forward = 0;
      if (i <= 0) {
        i = 0;
      }
      if (i <= 1) {
        clicker[0].style.color = "gray";
        clicker[0].style.borderColor = "gray";
        clicker[0].style.backgroundColor = "darkgray";
      }
      if (i > 0) {
        if (backward < 2 && i != 1) i -= 2;
        else i--;
        spec.innerHTML = questions[i].id + ".  ";
        q.innerHTML = questions[i].quiz;
        for (let j = 0; j < opt.length; j++) {
          lab[j].innerHTML = questions[i].options[j];
          opt[j].value = questions[i].options[j];
          opt[j].checked = false;
          if (opt[j].value == anArray[i]) {
            opt[j].checked = true;
          }
        }
      }

      // console.log(anArray);
      // console.log(
      //   "previous " + "backward: " + backward,
      //   "forward " + forward,
      //   "i: " + i + "array's length" + anArray.length
      // );
    };

    mainBoard.append(instruction);
    mainBoard.insertBefore(instruction, clicker[0]);
    mainBoard.insertBefore(timeInfo, instruction);
    console.log(mainBoard);
    let count = questions.length * 15;
    // let count = 3;
    if (count % 60 == 0) {
      timeInfo.innerHTML = `You have ${count / 60}
  minutes to answer ${questions.length} questions`;
    } else
      timeInfo.innerHTML = `You have ${Math.floor(count / 60)} minutes and ${
        count % 60
      } seconds to 
  answer ${questions.length} questions.`;
    instruction.innerHTML = `Do not not click the browser's back button or try to refresh/reload
  this page during the test.
  Click the 'Start' button to begin.</br>`;

    board.insertBefore(countHub, spec);
    let counting = () => {
      countHub.innerHTML = count;
      if (count / 60 <= 30)
        countHub.innerHTML = Math.floor(count / 60) + ":" + (count % 60);
      if (Math.floor(count / 60) >= 1 && count % 60 < 10)
        countHub.innerHTML = Math.floor(count / 60) + ":" + (count % 60);
      if (count / 60 < 10) {
        countHub.innerHTML = "0" + Math.floor(count / 60) + ":" + (count % 60);
      }
      if (count % 60 < 10) {
        countHub.innerHTML = Math.floor(count / 60) + ":" + "0" + (count % 60);
      }
      if (count / 60 < 10 && count % 60 < 10) {
        countHub.innerHTML =
          "0" + Math.floor(count / 60) + ":" + "0" + (count % 60);
      }
      count--;

      if (count < 0) {
        window.clearInterval(ID);
        closure.innerHTML = "Time's Up!";
        mainBoard.insertBefore(closure, clicker[0]);
        closure.style.margin = "4rem";
        closure.style.marginLeft = "30%";
        board.style.display = "none";
        clicker[0].style.display = "none";
        clicker[1].style.display = "none";
        clicker[2].style.visibility = "visible";
        clicker[2].style.marginLeft = "30%";
        clicker[2].style.color = "royalblue";
        clicker[2].style.borderColor = "cornflowerBlue";
        clicker[2].style.backgroundColor = "cornsilk";
      }
    };
    let timer = () => {
      ID = window.setInterval(counting, 1000);
    };
    //   let stopTimer = () => {
    //   window.clearInterval(ID)
    // }

    let truth = () => {
      closure.style.display = "none";
      theScore.style.marginLeft = "1em";
      theScore.style.marginTop = "2em";
      theScore.style.marginBottom = "1em";
      neat.style.textAlign = "center";
      let row1 = neat.insertRow(0);
      row1.style.fontWeight = "bold";
      let cella = row1.insertCell(0);
      let cellb = row1.insertCell(1);
      let cellc = row1.insertCell(2);
      let celld = row1.insertCell(3);
      let celle = row1.insertCell(4);
      cella.innerHTML = "Q No.";
      cellb.innerHTML = "Question";
      cellb.style.width = "10rem";
      cellc.innerHTML = "Your Answer";
      celld.innerHTML = "Correct Answer";
      celle.innerHTML = "Comment";

      cellb.style.width = "40%";

      for (let g = 0; g < questions.length; g++) {
        // if the the elements of the 'anArray' matches the
        // the answers in the questions array
        if (anArray[g] == questions[g].answer) {
          // score incrementts
          score += 100 / questions.length;
        }
      }
      theScore.innerHTML = "Your Score: " + score.toFixed(0) + "%";

      for (let i = questions.length - 1; i >= 0; i--) {
        let row = neat.insertRow(1);
        let cell1 = row.insertCell(0);
        let cell2 = row.insertCell(1);
        let cell3 = row.insertCell(2);
        let cell4 = row.insertCell(3);
        let cell5 = row.insertCell(4);
        cell1.innerHTML = questions[i].id;
        cell2.innerHTML = questions[i].quiz;
        cell3.innerHTML = anArray[i];
        cell4.innerHTML = questions[i].answer;
        cell5.innerHTML = "";
        if (anArray[i] == questions[i].answer) {
          cell5.innerHTML = "RIGHT";
          cell5.style.color = "green";
        } else {
          cell5.innerHTML = "WRONG";
          cell5.style.color = "red";
        }
        if (i % 2 == 0) {
          row.style.backgroundColor = "lightcyan";
        }
        mainBoard.append(neat);
      }
      board.style.display = "none";
      clicker[1].style.display = "none";
      clicker[2].style.display = "none";
      clicker[0].style.display = "none";
      theScore.style.textAlign = "center";
    };

    clicker[1].addEventListener("click", act);
    clicker[0].addEventListener("click", previous);
    clicker[2].addEventListener("click", truth);
    for (let j = 0; j < opt.length; j++) {
      opt[j].addEventListener("click", allRadio);
    }
  </script>
</html>
